/*! For license information please see funding-components.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.DreamsUnchartedFunding=t(require("react"),require("react-dom")):e.DreamsUnchartedFunding=t(e.React,e.ReactDOM)}(this,(e,t)=>(()=>{var n={20:(e,t,n)=>{"use strict";var r=n(156);Symbol.for("react.element"),Symbol.for("react.fragment"),Object.prototype.hasOwnProperty,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,d="".concat(u," ").concat(l);o[u]=l+1;var m=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)t[m].references++,t[m].updater(f);else{var p=a(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:p,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var c=r(e,a),u=0;u<o.length;u++){var l=n(o[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},156:t=>{"use strict";t.exports=e},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},318:e=>{"use strict";e.exports=t},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},602:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"/* Dreams Uncharted Funding Components CSS */\n\n/* Base Styles */\n.funding-goals-embed,\n.admin-funding-embed,\n.create-funding-expanded {\n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  color: #ffffff;\n  background: #1a1a2e;\n  border-radius: 12px;\n  padding: 2rem;\n  margin: 2rem 0;\n  border: 1px solid #2a2a4a;\n}\n\n/* Loading and Error States */\n.funding-loading,\n.funding-error,\n.admin-loading {\n  text-align: center;\n  padding: 2rem;\n  color: #b0b0b0;\n  font-style: italic;\n}\n\n.funding-error {\n  color: #f44336;\n}\n\n/* Progress Bar */\n.progress-bar-container {\n  margin: 1rem 0;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.progress-bar {\n  flex: 1;\n  height: 8px;\n  background: #2a2a4a;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #2196f3, #21cbf3);\n  transition: width 0.3s ease;\n  border-radius: 4px;\n}\n\n.progress-percentage {\n  font-size: 0.875rem;\n  color: #2196f3;\n  font-weight: 600;\n  min-width: 40px;\n}\n\n/* Funding Goals Embed */\n.funding-header {\n  text-align: center;\n  margin-bottom: 2rem;\n}\n\n.funding-header h3 {\n  color: #2196f3;\n  margin: 0 0 0.5rem 0;\n  font-size: 1.5rem;\n}\n\n.funding-header p {\n  color: #b0b0b0;\n  margin: 0;\n}\n\n.funding-goals-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: 1.5rem;\n  margin: 2rem 0;\n}\n\n.funding-view-all {\n  text-align: center;\n  margin-top: 2rem;\n}\n\n/* Funding Goal Card */\n.funding-goal-card {\n  background: #16213e;\n  border-radius: 8px;\n  padding: 1.5rem;\n  border: 1px solid #2a2a4a;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.funding-goal-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);\n}\n\n.goal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 1rem;\n}\n\n.goal-header h4 {\n  color: #ffffff;\n  margin: 0;\n  font-size: 1.125rem;\n}\n\n.goal-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.goal-progress {\n  margin: 1rem 0;\n}\n\n.progress-text {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 0.5rem;\n  font-size: 0.875rem;\n  color: #b0b0b0;\n}\n\n.donation-count {\n  color: #4caf50;\n}\n\n.goal-meta {\n  display: flex;\n  gap: 1rem;\n  margin: 1rem 0;\n  flex-wrap: wrap;\n}\n\n.goal-status,\n.goal-type,\n.goal-deadline {\n  padding: 0.25rem 0.75rem;\n  border-radius: 20px;\n  font-size: 0.75rem;\n  text-transform: capitalize;\n}\n\n.goal-status.active {\n  background: #4caf50;\n  color: white;\n}\n\n.goal-status.completed {\n  background: #ff9800;\n  color: white;\n}\n\n.goal-status.paused {\n  background: #9e9e9e;\n  color: white;\n}\n\n.goal-type {\n  background: #2196f3;\n  color: white;\n}\n\n.goal-deadline {\n  background: #ff5722;\n  color: white;\n}\n\n.goal-description {\n  color: #b0b0b0;\n  line-height: 1.5;\n  margin: 1rem 0;\n}\n\n/* Buttons */\n.btn {\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 6px;\n  font-weight: 500;\n  text-decoration: none;\n  text-align: center;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: inline-block;\n  font-size: 0.875rem;\n}\n\n.btn-primary {\n  background: #2196f3;\n  color: white;\n}\n\n.btn-primary:hover {\n  background: #1976d2;\n}\n\n.btn-secondary {\n  background: transparent;\n  color: #2196f3;\n  border: 1px solid #2196f3;\n}\n\n.btn-secondary:hover {\n  background: #2196f3;\n  color: white;\n}\n\n.btn-danger {\n  background: #f44336;\n  color: white;\n}\n\n.btn-danger:hover {\n  background: #d32f2f;\n}\n\n.btn-small {\n  padding: 0.5rem 1rem;\n  font-size: 0.75rem;\n}\n\n.btn-large {\n  padding: 1rem 2rem;\n  font-size: 1rem;\n}\n\n.donation-button {\n  background: linear-gradient(45deg, #2196f3, #21cbf3);\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 6px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n}\n\n.donation-button:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 15px rgba(33, 150, 243, 0.4);\n}\n\n/* Admin Funding Embed */\n.funding-stats {\n  margin-bottom: 2rem;\n}\n\n.funding-stats h3 {\n  color: #2196f3;\n  margin-bottom: 1rem;\n}\n\n.stats-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.stat-card {\n  background: #16213e;\n  padding: 1.5rem;\n  border-radius: 8px;\n  text-align: center;\n  border: 1px solid #2a2a4a;\n}\n\n.stat-card h4 {\n  color: #b0b0b0;\n  margin: 0 0 0.5rem 0;\n  font-size: 0.875rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.stat-value {\n  color: #2196f3;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin: 0;\n}\n\n.funding-filters {\n  display: flex;\n  gap: 0.5rem;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n}\n\n.funding-filters button {\n  padding: 0.5rem 1rem;\n  border: 1px solid #2a2a4a;\n  background: transparent;\n  color: #b0b0b0;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.funding-filters button.active,\n.funding-filters button:hover {\n  background: #2196f3;\n  color: white;\n  border-color: #2196f3;\n}\n\n.admin-goals-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.admin-goal-card {\n  background: #16213e;\n  border: 1px solid #2a2a4a;\n  border-radius: 8px;\n  padding: 1.5rem;\n}\n\n.no-goals {\n  text-align: center;\n  padding: 3rem;\n  color: #b0b0b0;\n}\n\n.no-goals p {\n  margin-bottom: 1rem;\n  font-size: 1.125rem;\n}\n\n/* Create Funding Goal Form */\n.create-funding-collapsed {\n  text-align: center;\n  padding: 2rem;\n}\n\n.form-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n}\n\n.form-header h3 {\n  color: #2196f3;\n  margin: 0;\n}\n\n.funding-goal-form {\n  max-width: 800px;\n}\n\n.form-section {\n  margin-bottom: 2rem;\n  padding-bottom: 2rem;\n  border-bottom: 1px solid #2a2a4a;\n}\n\n.form-section:last-child {\n  border-bottom: none;\n}\n\n.form-section h4 {\n  color: #2196f3;\n  margin: 0 0 1rem 0;\n  font-size: 1.125rem;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.form-group {\n  margin-bottom: 1rem;\n}\n\n.form-group label {\n  display: block;\n  color: #ffffff;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n}\n\n.form-group input,\n.form-group textarea,\n.form-group select {\n  width: 100%;\n  padding: 0.75rem;\n  border: 1px solid #2a2a4a;\n  border-radius: 6px;\n  background: #16213e;\n  color: #ffffff;\n  font-size: 0.875rem;\n}\n\n.form-group input:focus,\n.form-group textarea:focus,\n.form-group select:focus {\n  outline: none;\n  border-color: #2196f3;\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2);\n}\n\n.form-group input.error,\n.form-group textarea.error {\n  border-color: #f44336;\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n}\n\n.checkbox-group label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n}\n\n.checkbox-group input[type=\"checkbox\"] {\n  width: auto;\n  margin: 0;\n}\n\n.error-text {\n  color: #f44336;\n  font-size: 0.75rem;\n  margin-top: 0.25rem;\n  display: block;\n}\n\n/* Reward Tier Form */\n.reward-tier-form {\n  background: #0f1419;\n  border: 1px solid #2a2a4a;\n  border-radius: 8px;\n  padding: 1.5rem;\n  margin-bottom: 1rem;\n}\n\n.tier-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n.tier-header h5 {\n  color: #2196f3;\n  margin: 0;\n}\n\n.form-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n  margin-top: 2rem;\n  padding-top: 2rem;\n  border-top: 1px solid #2a2a4a;\n}\n\n/* Reward Tiers Component */\n.reward-tiers {\n  margin: 2rem 0;\n}\n\n.reward-tiers h3 {\n  color: #2196f3;\n  margin-bottom: 1rem;\n}\n\n.tiers-list {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.reward-tier {\n  background: #16213e;\n  border: 2px solid #2a2a4a;\n  border-radius: 8px;\n  padding: 1rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.reward-tier:hover {\n  border-color: #2196f3;\n}\n\n.reward-tier.selected {\n  border-color: #2196f3;\n  background: rgba(33, 150, 243, 0.1);\n}\n\n.reward-tier.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.reward-tier.unavailable {\n  opacity: 0.7;\n  background: #2a2a2a;\n}\n\n.tier-amount {\n  color: #2196f3;\n  font-weight: 600;\n  font-size: 1.125rem;\n}\n\n.tier-availability {\n  color: #ff9800;\n  font-size: 0.75rem;\n}\n\n.tier-title {\n  color: #ffffff;\n  margin: 0.5rem 0;\n  font-size: 1rem;\n}\n\n.tier-description {\n  color: #b0b0b0;\n  margin: 0;\n  line-height: 1.4;\n}\n\n.tier-requirement,\n.tier-unavailable {\n  margin-top: 0.5rem;\n  padding: 0.5rem;\n  border-radius: 4px;\n  font-size: 0.75rem;\n  text-align: center;\n}\n\n.tier-requirement {\n  background: rgba(255, 152, 0, 0.2);\n  color: #ff9800;\n}\n\n.tier-unavailable {\n  background: rgba(244, 67, 54, 0.2);\n  color: #f44336;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .funding-goals-embed,\n  .admin-funding-embed,\n  .create-funding-expanded {\n    padding: 1rem;\n    margin: 1rem 0;\n  }\n\n  .funding-goals-grid {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n\n  .stats-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  .form-row {\n    grid-template-columns: 1fr;\n  }\n\n  .goal-actions {\n    flex-direction: column;\n  }\n\n  .funding-filters {\n    flex-direction: column;\n  }\n\n  .form-actions {\n    flex-direction: column;\n  }\n\n  .form-header {\n    flex-direction: column;\n    gap: 1rem;\n    text-align: center;\n  }\n}\n\n@media (max-width: 480px) {\n  .stats-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .tier-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.5rem;\n  }\n\n  .progress-bar-container {\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .progress-text {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 0.25rem;\n  }\n}\n\n",""]);const s=i},659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848:(e,t,n)=>{"use strict";n(20)},926:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var l,d,m,f,p={exports:{}};p.exports=function(){if(f)return m;f=1;var e=d?l:(d=1,l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function t(){}function n(){}return n.resetWarningCache=t,m=function(){function r(t,n,r,a,o,i){if(i!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function a(){return r}r.isRequired=r;var o={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}()();var h=u(p.exports),g=function(e,n,r){var a=!!r,o=t.useRef(r);t.useEffect(function(){o.current=r},[r]),t.useEffect(function(){if(!a||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}},[a,n,e,o])},y=function(e){var n=t.useRef(e);return t.useEffect(function(){n.current=e},[e]),n.current},v=function(e){return null!==e&&"object"===a(e)},b="[object Object]",E=function e(t,n){if(!v(t)||!v(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===b;if(a!==(Object.prototype.toString.call(n)===b))return!1;if(!a&&!r)return t===n;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var s={},c=0;c<o.length;c+=1)s[o[c]]=!0;for(var u=0;u<i.length;u+=1)s[i[u]]=!0;var l=Object.keys(s);if(l.length!==o.length)return!1;var d=t,m=n;return l.every(function(t){return e(d[t],m[t])})},w=function(e,t,n){return v(e)?Object.keys(e).reduce(function(a,i){var s=!v(t)||!E(e[i],t[i]);return n.includes(i)?(s&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):s?r(r({},a||{}),{},o({},i,e[i])):a},null):null},S="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",C=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;if(null===e||v(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;throw new Error(n)},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;if(function(e){return v(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return C(e,t)})};var n=C(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},k=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},x=t.createContext(null);x.displayName="ElementsContext";var N=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},P=function(e){var n=e.stripe,r=e.options,a=e.children,o=t.useMemo(function(){return O(n)},[n]),i=s(t.useState(function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}}),2),c=i[0],u=i[1];t.useEffect(function(){var e=!0,t=function(e){u(function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}})};return"async"!==o.tag||c.stripe?"sync"!==o.tag||c.stripe||t(o.stripe):o.stripePromise.then(function(n){n&&e&&t(n)}),function(){e=!1}},[o,c,r]);var l=y(n);t.useEffect(function(){null!==l&&l!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[l,n]);var d=y(r);return t.useEffect(function(){if(c.elements){var e=w(r,d,["clientSecret","fonts"]);e&&c.elements.update(e)}},[r,d,c.elements]),t.useEffect(function(){k(c.stripe)},[c.stripe]),t.createElement(x.Provider,{value:c},a)};P.propTypes={stripe:h.any,options:h.object};var j=function(e){var n=t.useContext(x);return N(n,e)},T=function(e){return(0,e.children)(j("mounts <ElementsConsumer>"))};T.propTypes={children:h.func.isRequired};var A=["on","session"],I=t.createContext(null);I.displayName="CustomCheckoutSdkContext";var R=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},F=t.createContext(null);F.displayName="CustomCheckoutContext";var D=function(e){var n=e.stripe,a=e.options,o=e.children,c=t.useMemo(function(){return O(n,"Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),u=s(t.useState(null),2),l=u[0],d=u[1],m=s(t.useState(function(){return{stripe:"sync"===c.tag?c.stripe:null,customCheckoutSdk:null}}),2),f=m[0],p=m[1],h=function(e,t){p(function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}})},g=t.useRef(!1);t.useEffect(function(){var e=!0;return"async"!==c.tag||f.stripe?"sync"===c.tag&&c.stripe&&!g.current&&(g.current=!0,c.stripe.initCustomCheckout(a).then(function(e){e&&(h(c.stripe,e),e.on("change",d))})):c.stripePromise.then(function(t){t&&e&&!g.current&&(g.current=!0,t.initCustomCheckout(a).then(function(e){e&&(h(t,e),e.on("change",d))}))}),function(){e=!1}},[c,f,a,d]);var b=y(n);t.useEffect(function(){null!==b&&b!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[b,n]);var w=y(a);t.useEffect(function(){var e,t;if(f.customCheckoutSdk){!a.clientSecret||v(w)||E(a.clientSecret,w.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null==w||null===(e=w.elementsOptions)||void 0===e?void 0:e.appearance,r=null==a||null===(t=a.elementsOptions)||void 0===t?void 0:t.appearance;r&&!E(r,n)&&f.customCheckoutSdk.changeAppearance(r)}},[a,w,f.customCheckoutSdk]),t.useEffect(function(){k(f.stripe)},[f.stripe]);var S=t.useMemo(function(){return e=f.customCheckoutSdk,t=l,e?(e.on,e.session,r(r({},i(e,A)),t||e.session())):null;var e,t},[f.customCheckoutSdk,l]);return f.customCheckoutSdk?t.createElement(I.Provider,{value:f},t.createElement(F.Provider,{value:S},o)):null};D.propTypes={stripe:h.any,options:h.shape({clientSecret:h.string.isRequired,elementsOptions:h.object}).isRequired};var _=function(e){var n=t.useContext(I),r=t.useContext(x);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?R(n,e):N(r,e)},G=function(e,n){var r,a="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),o=n?function(e){_("mounts <".concat(a,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r,o=n.id,i=n.className,c=n.options,u=void 0===c?{}:c,l=n.onBlur,d=n.onFocus,m=n.onReady,f=n.onChange,p=n.onEscape,h=n.onClick,v=n.onLoadError,b=n.onLoaderStart,E=n.onNetworksChange,S=n.onConfirm,C=n.onCancel,O=n.onShippingAddressChange,k=n.onShippingRateChange,x=_("mounts <".concat(a,">")),N="elements"in x?x.elements:null,P="customCheckoutSdk"in x?x.customCheckoutSdk:null,j=s(t.useState(null),2),T=j[0],A=j[1],I=t.useRef(null),R=t.useRef(null);g(T,"blur",l),g(T,"focus",d),g(T,"escape",p),g(T,"click",h),g(T,"loaderror",v),g(T,"loaderstart",b),g(T,"networkschange",E),g(T,"confirm",S),g(T,"cancel",C),g(T,"shippingaddresschange",O),g(T,"shippingratechange",k),g(T,"change",f),m&&(r="expressCheckout"===e?m:function(){m(T)}),g(T,"ready",r),t.useLayoutEffect(function(){if(null===I.current&&null!==R.current&&(N||P)){var t=null;P?t=P.createElement(e,u):N&&(t=N.create(e,u)),I.current=t,A(t),t&&t.mount(R.current)}},[N,P,u]);var F=y(u);return t.useEffect(function(){if(I.current){var e=w(u,F,["paymentRequest"]);e&&"update"in I.current&&I.current.update(e)}},[u,F]),t.useLayoutEffect(function(){return function(){if(I.current&&"function"==typeof I.current.destroy)try{I.current.destroy(),I.current=null}catch(e){}}},[]),t.createElement("div",{id:o,className:i,ref:R})};return o.propTypes={id:h.string,className:h.string,onChange:h.func,onBlur:h.func,onFocus:h.func,onReady:h.func,onEscape:h.func,onClick:h.func,onLoadError:h.func,onLoaderStart:h.func,onNetworksChange:h.func,onConfirm:h.func,onCancel:h.func,onShippingAddressChange:h.func,onShippingRateChange:h.func,options:h.object},o.displayName=a,o.__elementType=e,o},L="undefined"==typeof window,U=t.createContext(null);U.displayName="EmbeddedCheckoutProviderContext";var M=function(){var e=t.useContext(U);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},Q=L?function(e){var n=e.id,r=e.className;return M(),t.createElement("div",{id:n,className:r})}:function(e){var n=e.id,r=e.className,a=M().embeddedCheckout,o=t.useRef(!1),i=t.useRef(null);return t.useLayoutEffect(function(){return!o.current&&a&&null!==i.current&&(a.mount(i.current),o.current=!0),function(){if(o.current&&a)try{a.unmount(),o.current=!1}catch(e){}}},[a]),t.createElement("div",{ref:i,id:n,className:r})},B=G("auBankAccount",L),q=G("card",L),Y=G("cardNumber",L),K=G("cardExpiry",L),z=G("cardCvc",L),$=G("fpxBank",L),H=G("iban",L),W=G("idealBank",L),J=G("p24Bank",L),V=G("epsBank",L),X=G("payment",L),Z=G("expressCheckout",L),ee=G("currencySelector",L),te=G("paymentRequestButton",L),ne=G("linkAuthentication",L),re=G("address",L),ae=G("shippingAddress",L),oe=G("paymentMethodMessaging",L),ie=G("affirmMessage",L),se=G("afterpayClearpayMessage",L);e.AddressElement=re,e.AffirmMessageElement=ie,e.AfterpayClearpayMessageElement=se,e.AuBankAccountElement=B,e.CardCvcElement=z,e.CardElement=q,e.CardExpiryElement=K,e.CardNumberElement=Y,e.CurrencySelectorElement=ee,e.CustomCheckoutProvider=D,e.Elements=P,e.ElementsConsumer=T,e.EmbeddedCheckout=Q,e.EmbeddedCheckoutProvider=function(e){var n=e.stripe,r=e.options,a=e.children,o=t.useMemo(function(){return O(n,"Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),i=t.useRef(null),c=t.useRef(null),u=s(t.useState({embeddedCheckout:null}),2),l=u[0],d=u[1];t.useEffect(function(){if(!c.current&&!i.current){var e=function(e){c.current||i.current||(c.current=e,i.current=c.current.initEmbeddedCheckout(r).then(function(e){d({embeddedCheckout:e})}))};"async"!==o.tag||c.current||!r.clientSecret&&!r.fetchClientSecret?"sync"!==o.tag||c.current||!r.clientSecret&&!r.fetchClientSecret||e(o.stripe):o.stripePromise.then(function(t){t&&e(t)})}},[o,r,l,c]),t.useEffect(function(){return function(){l.embeddedCheckout?(i.current=null,l.embeddedCheckout.destroy()):i.current&&i.current.then(function(){i.current=null,l.embeddedCheckout&&l.embeddedCheckout.destroy()})}},[l.embeddedCheckout]),t.useEffect(function(){k(c)},[c]);var m=y(n);t.useEffect(function(){null!==m&&m!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")},[m,n]);var f=y(r);return t.useEffect(function(){null!=f&&(null!=r?(void 0===r.clientSecret&&void 0===r.fetchClientSecret&&console.warn("Invalid props passed to EmbeddedCheckoutProvider: You must provide one of either `options.fetchClientSecret` or `options.clientSecret`."),null!=f.clientSecret&&r.clientSecret!==f.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.fetchClientSecret&&r.fetchClientSecret!==f.fetchClientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change fetchClientSecret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=f.onComplete&&r.onComplete!==f.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it."),null!=f.onShippingDetailsChange&&r.onShippingDetailsChange!==f.onShippingDetailsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onShippingDetailsChange option after setting it."),null!=f.onLineItemsChange&&r.onLineItemsChange!==f.onLineItemsChange&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onLineItemsChange option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))},[f,r]),t.createElement(U.Provider,{value:l},a)},e.EpsBankElement=V,e.ExpressCheckoutElement=Z,e.FpxBankElement=$,e.IbanElement=H,e.IdealBankElement=W,e.LinkAuthenticationElement=ne,e.P24BankElement=J,e.PaymentElement=X,e.PaymentMethodMessagingElement=oe,e.PaymentRequestButtonElement=te,e.ShippingAddressElement=ae,e.useCustomCheckout=function(){!function(e){var n=t.useContext(I);R(n,e)}("calls useCustomCheckout()");var e=t.useContext(F);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},e.useElements=function(){return j("calls useElements()").elements},e.useStripe=function(){return _("calls useStripe()").stripe}}(t,n(156))}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0;var o={};return(()=>{"use strict";a.r(o),a.d(o,{AdminFundingEmbed:()=>Pt,CreateFundingGoalEmbed:()=>Mt,DonationButtonEmbed:()=>At,DonationModal:()=>M,FundingGoalCard:()=>B,FundingGoalsEmbed:()=>Ct,PaymentForm:()=>A,ProgressBar:()=>d,RewardTiers:()=>I,currencyUtils:()=>e,fundingAPI:()=>t,fundingHooks:()=>n});var e={};a.r(e),a.d(e,{default:()=>l,formatCurrency:()=>u});var t={};a.r(t),a.d(t,{ContentAPI:()=>Ve,FundingAPI:()=>We,PaymentAPI:()=>Je,contentAPI:()=>et,createFundingGoal:()=>Me,createPayPalPayment:()=>ze,createStripePaymentIntent:()=>Ke,default:()=>tt,deleteFundingGoal:()=>Be,fundingAPI:()=>Xe,getContent:()=>$e,getCreatorFundingGoals:()=>Ue,getFundingGoal:()=>Ge,getFundingGoals:()=>_e,getFundingStats:()=>qe,getSeries:()=>He,getSeriesFundingGoals:()=>Le,paymentAPI:()=>Ze,processDonation:()=>Ye,updateFundingGoal:()=>Qe});var n={};a.r(n),a.d(n,{useCreateFundingGoal:()=>ft,useCreatorFundingGoals:()=>lt,useDeleteFundingGoal:()=>ht,useDonationFlow:()=>vt,useFundingGoal:()=>dt,useFundingGoalForm:()=>yt,useFundingGoals:()=>ct,useFundingStats:()=>mt,useProcessDonation:()=>gt,useRealTimeFundingGoal:()=>bt,useSeriesFundingGoals:()=>ut,useUpdateFundingGoal:()=>pt});var r=a(156),i=a.n(r),s=a(318),c=a.n(s);function u(e){if(!e&&0!==e)return"$0.00";var t=parseFloat(e);return isNaN(t)?"$0.00":"$"+t.toFixed(2)}const l=u,d=function(e){var t=e.current,n=e.target,r=e.showPercentage,a=void 0!==r&&r,o=e.showAmounts,s=void 0!==o&&o,c=e.height,u=void 0===c?"8px":c,l=e.className,d=void 0===l?"":l,m=Math.min(t/n*100,100),f=m>=100;return i().createElement("div",{className:"progress-bar-container ".concat(d)},i().createElement("div",{className:"progress-bar",style:{height:u}},i().createElement("div",{className:"progress-fill ".concat(f?"completed":""),style:{width:"".concat(m,"%"),transition:"width 0.3s ease"}})),(a||s)&&i().createElement("div",{className:"progress-info"},a&&i().createElement("span",{className:"progress-percentage"},Math.round(m),"%"),s&&i().createElement("span",{className:"progress-amounts"},"$",t.toLocaleString()," / $",n.toLocaleString())))};var m,f="https://js.stripe.com/v3",p=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,h="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",g=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(f).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},y=null,v=null,b=null,E=!1,w=function(){return m||(m=(e=null,null!==y?y:(y=new Promise(function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(h),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(f,'"]')),t=0;t<e.length;t++){var n=e[t];if(p.test(n.src))return n}return null}();if(r&&e)console.warn(h);else if(r){if(r&&null!==b&&null!==v){var a;r.removeEventListener("load",b),r.removeEventListener("error",v),null===(a=r.parentNode)||void 0===a||a.removeChild(r),r=g(e)}}else r=g(e);b=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),v=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",b),r.addEventListener("error",v)}catch(e){return void n(e)}else t(null)})).catch(function(e){return y=null,Promise.reject(e)})).catch(function(e){return m=null,Promise.reject(e)}));var e};Promise.resolve().then(function(){return w()}).catch(function(e){E||console.warn(e)});var S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];E=!0;var r=Date.now();return w().then(function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})}(r,n),r}(e,t,r)})},C=a(926);function O(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return k(u,"_invoke",function(n,r,a){var o,s,c,u=0,l=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,c=e,m.n=n,i}};function f(n,r){for(s=n,c=r,t=0;!d&&u&&!a&&t<l.length;t++){var a,o=l[t],f=m.p,p=o[2];n>3?(a=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(s=0,m.v=r,m.n=o[1]):f<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,m.n=p,s=0))}if(a||n>1)return i;throw d=!0,r}return function(a,l,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,p),s=l,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(m.n=-1),f(s,c)):m.n=c:m.v=c);try{if(u=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(d=m.n<0)?c:n.call(r,m))!==i)break}catch(t){o=e,s=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function s(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(k(t={},r,function(){return this}),t),d=u.prototype=s.prototype=Object.create(l);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,k(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,k(d,"constructor",u),k(u,"constructor",c),c.displayName="GeneratorFunction",k(u,a,"GeneratorFunction"),k(d),k(d,a,"Generator"),k(d,r,function(){return this}),k(d,"toString",function(){return"[object Generator]"}),(O=function(){return{w:o,m}})()}function k(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}k=function(e,t,n,r){function o(t,n){k(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},k(e,t,n,r)}function x(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,s,"next",e)}function s(e){x(o,r,a,i,s,"throw",e)}i(void 0)})}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var T={style:{base:{color:"#ffffff",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px",backgroundColor:"#16213e","::placeholder":{color:"#b0b0b0"}},invalid:{color:"#f44336",iconColor:"#f44336"}},hidePostalCode:!1};const A=function(e){var t=e.amount,n=e.goalId,a=e.donorInfo,o=e.selectedTier,s=e.onSuccess,c=e.onError,l=e.isProcessing,d=e.setIsProcessing,m=(0,C.useStripe)(),f=(0,C.useElements)(),p=P((0,r.useState)("stripe"),2),h=p[0],g=p[1],y=P((0,r.useState)(null),2),v=y[0],b=y[1],E=function(){var e=N(O().m(function e(t){return O().w(function(e){for(;;)switch(e.n){case 0:if(t.preventDefault(),m&&f){e.n=1;break}return e.a(2);case 1:if(d(!0),b(null),"stripe"!==h){e.n=3;break}return e.n=2,w();case 2:e.n=4;break;case 3:if("paypal"!==h){e.n=4;break}return e.n=4,S();case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=N(O().m(function e(){var r,i,u,l,d,p,h,g,y;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=f.getElement(C.CardElement),e.p=1,e.n=2,fetch("/api/payments/stripe/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Math.round(100*t),goalId:n,donorInfo:a,selectedTier:o})});case 2:return i=e.v,e.n=3,i.json();case 3:if(u=e.v,l=u.clientSecret,!(d=u.error)){e.n=4;break}throw new Error(d);case 4:return e.n=5,m.confirmCardPayment(l,{payment_method:{card:r,billing_details:{name:a.name,email:a.email}}});case 5:if(p=e.v,h=p.error,g=p.paymentIntent,!h){e.n=6;break}throw new Error(h.message);case 6:"succeeded"===g.status&&s({paymentId:g.id,amount:t,method:"stripe"}),e.n=8;break;case 7:e.p=7,y=e.v,console.error("Stripe payment error:",y),b(y.message),c(y);case 8:return e.a(2)}},e,null,[[1,7]])}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=N(O().m(function e(){var r,i,s,u,l;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/api/payments/paypal/create-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:t,goalId:n,donorInfo:a,selectedTier:o})});case 1:return r=e.v,e.n=2,r.json();case 2:if(i=e.v,s=i.approvalUrl,i.paymentId,!(u=i.error)){e.n=3;break}throw new Error(u);case 3:window.location.href=s,e.n=5;break;case 4:e.p=4,l=e.v,console.error("PayPal payment error:",l),c(l);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}();return i().createElement("form",{onSubmit:E,className:"payment-form"},i().createElement("div",{className:"payment-methods"},i().createElement("h4",null,"Payment Method"),i().createElement("div",{className:"payment-method-options"},i().createElement("label",{className:"payment-method-option ".concat("stripe"===h?"selected":"")},i().createElement("input",{type:"radio",value:"stripe",checked:"stripe"===h,onChange:function(e){return g(e.target.value)}}),i().createElement("div",{className:"payment-method-info"},i().createElement("span",{className:"payment-method-name"},"Credit/Debit Card"),i().createElement("span",{className:"payment-method-description"},"Visa, Mastercard, American Express")),i().createElement("div",{className:"payment-method-logos"},"💳")),i().createElement("label",{className:"payment-method-option ".concat("paypal"===h?"selected":"")},i().createElement("input",{type:"radio",value:"paypal",checked:"paypal"===h,onChange:function(e){return g(e.target.value)}}),i().createElement("div",{className:"payment-method-info"},i().createElement("span",{className:"payment-method-name"},"PayPal"),i().createElement("span",{className:"payment-method-description"},"Pay with your PayPal account")),i().createElement("div",{className:"payment-method-logos"},"🅿️")))),"stripe"===h&&i().createElement("div",{className:"stripe-payment"},i().createElement("div",{className:"form-group"},i().createElement("label",null,"Card Information"),i().createElement("div",{className:"card-element-container"},i().createElement(C.CardElement,{options:T,onChange:function(e){e.error?b(e.error.message):b(null)}})),v&&i().createElement("div",{className:"card-error"},v)),i().createElement("div",{className:"security-info"},i().createElement("div",{className:"security-badges"},i().createElement("span",{className:"security-badge"},"🔒 SSL Secured"),i().createElement("span",{className:"security-badge"},"🛡️ PCI Compliant")),i().createElement("p",{className:"security-text"},"Your payment information is encrypted and secure. We never store your card details."))),"paypal"===h&&i().createElement("div",{className:"paypal-payment"},i().createElement("div",{className:"paypal-info"},i().createElement("p",null,"You will be redirected to PayPal to complete your payment securely."),i().createElement("div",{className:"paypal-benefits"},i().createElement("span",null,"✓ Buyer Protection"),i().createElement("span",null,"✓ Secure Payment"),i().createElement("span",null,"✓ No card details required")))),i().createElement("div",{className:"payment-summary"},i().createElement("div",{className:"summary-row"},i().createElement("span",null,"Donation Amount:"),i().createElement("span",null,u(t))),o&&i().createElement("div",{className:"summary-row"},i().createElement("span",null,"Reward Tier:"),i().createElement("span",null,o.title)),i().createElement("div",{className:"summary-row total"},i().createElement("span",null,"Total:"),i().createElement("span",null,u(t))),i().createElement("div",{className:"processing-fee-note"},i().createElement("small",null,"Processing fees are covered by Dreams Uncharted"))),i().createElement("button",{type:"submit",className:"btn btn-primary btn-large payment-submit",disabled:!m||l},l?i().createElement("span",null,i().createElement("span",{className:"spinner"}),"Processing..."):"Donate ".concat(u(t))),i().createElement("div",{className:"payment-footer"},i().createElement("p",{className:"terms-text"},"By completing this donation, you agree to our"," ",i().createElement("a",{href:"/terms",target:"_blank"},"Terms of Service")," and"," ",i().createElement("a",{href:"/privacy",target:"_blank"},"Privacy Policy"),".")))},I=function(e){var t=e.tiers,n=e.selectedAmount,r=e.selectedTier,a=e.onTierSelect,o=e.showUnavailable,s=void 0===o||o;return t&&0!==t.length?i().createElement("div",{className:"reward-tiers"},i().createElement("h4",null,"Reward Tiers"),i().createElement("div",{className:"tiers-list"},t.map(function(e,t){var o=n>=e.amount,c=!e.maxBackers||e.currentBackers<e.maxBackers,l=r&&r.amount===e.amount,d=o&&c;return s||d?i().createElement("div",{key:t,className:"reward-tier ".concat(l?"selected":""," ").concat(d?"available":"unavailable"," ").concat(o?"":"insufficient-amount"),onClick:function(){return function(e){n>=e.amount&&(!e.maxBackers||e.currentBackers<e.maxBackers)&&a&&a(e)}(e)},style:{cursor:d?"pointer":"default"}},i().createElement("div",{className:"tier-header"},i().createElement("span",{className:"tier-amount"},u(e.amount)),e.maxBackers&&i().createElement("span",{className:"tier-availability"},e.currentBackers||0," / ",e.maxBackers," claimed")),i().createElement("h5",{className:"tier-title"},e.title),e.description&&i().createElement("p",{className:"tier-description"},e.description),!o&&i().createElement("div",{className:"tier-requirement"},"Requires minimum donation of ",u(e.amount)),o&&!c&&i().createElement("div",{className:"tier-unavailable"},"This reward tier is no longer available"),l&&i().createElement("div",{className:"tier-selected-indicator"},"✓ Selected")):null})),n>0&&!t.some(function(e){return n>=e.amount&&(!e.maxBackers||e.currentBackers<e.maxBackers)})&&i().createElement("div",{className:"no-rewards-available"},i().createElement("p",null,"No reward tiers available for this amount, but your support is still greatly appreciated!"))):null};function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n){return(t=function(e){var t=function(e){if("object"!=R(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==R(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var U=S(window.STRIPE_PUBLISHABLE_KEY||"pk_test_placeholder");const M=function(e){var t=e.goal,n=e.onClose,a=e.onSuccess,o=G((0,r.useState)(25),2),s=o[0],c=o[1],l=G((0,r.useState)(""),2),d=l[0],m=l[1],f=G((0,r.useState)(null),2),p=f[0],h=f[1],g=G((0,r.useState)({name:"",email:"",message:"",isAnonymous:!1}),2),y=g[0],v=g[1],b=G((0,r.useState)("amount"),2),E=b[0],w=b[1],S=G((0,r.useState)(!1),2),O=S[0],k=S[1];(0,r.useEffect)(function(){if(t.rewardTiers&&t.rewardTiers.length>0){var e=d?parseFloat(d):s,n=t.rewardTiers.filter(function(t){return e>=t.amount&&(!t.maxBackers||t.currentBackers<t.maxBackers)}).sort(function(e,t){return t.amount-e.amount})[0];h(n||null)}},[s,d,t.rewardTiers]);var x=function(){return d?parseFloat(d):s};return i().createElement("div",{className:"donation-modal-overlay",onClick:function(e){e.target===e.currentTarget&&n()}},i().createElement("div",{className:"donation-modal"},i().createElement("div",{className:"modal-header"},i().createElement("h3",null,"Support: ",t.title),i().createElement("button",{className:"modal-close",onClick:n},"×")),i().createElement("div",{className:"modal-content"},"amount"===E&&i().createElement("div",{className:"amount-selection"},i().createElement("div",{className:"goal-summary"},i().createElement("div",{className:"progress-info"},i().createElement("span",null,u(t.currentAmount)," raised"),i().createElement("span",null,"of ",u(t.targetAmount)," goal")),i().createElement("div",{className:"progress-bar"},i().createElement("div",{className:"progress-fill",style:{width:"".concat(Math.min(t.currentAmount/t.targetAmount*100,100),"%")}}))),i().createElement("div",{className:"amount-options"},i().createElement("h4",null,"Choose Amount"),i().createElement("div",{className:"preset-amounts"},[5,10,25,50,100].map(function(e){return i().createElement("button",{key:e,className:"amount-btn ".concat(s===e?"selected":""),onClick:function(){return function(e){c(e),m("")}(e)}},"$",e)})),i().createElement("div",{className:"custom-amount"},i().createElement("label",null,"Custom Amount"),i().createElement("div",{className:"amount-input"},i().createElement("span",{className:"currency-symbol"},"$"),i().createElement("input",{type:"text",value:d,onChange:function(e){var t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&(m(t),c(0))},placeholder:"Enter amount"})))),t.rewardTiers&&t.rewardTiers.length>0&&i().createElement(I,{tiers:t.rewardTiers,selectedAmount:x(),selectedTier:p,onTierSelect:h}),i().createElement("div",{className:"donor-info"},i().createElement("h4",null,"Your Information"),i().createElement("div",{className:"form-group"},i().createElement("input",{type:"text",placeholder:"Your name",value:y.name,onChange:function(e){return v(D(D({},y),{},{name:e.target.value}))}})),i().createElement("div",{className:"form-group"},i().createElement("input",{type:"email",placeholder:"Your email",value:y.email,onChange:function(e){return v(D(D({},y),{},{email:e.target.value}))}})),i().createElement("div",{className:"form-group"},i().createElement("textarea",{placeholder:"Leave a message (optional)",value:y.message,onChange:function(e){return v(D(D({},y),{},{message:e.target.value}))},rows:"3"})),i().createElement("div",{className:"form-group checkbox-group"},i().createElement("label",null,i().createElement("input",{type:"checkbox",checked:y.isAnonymous,onChange:function(e){return v(D(D({},y),{},{isAnonymous:e.target.checked}))}}),"Make this donation anonymous"))),i().createElement("div",{className:"modal-actions"},i().createElement("button",{className:"btn btn-secondary",onClick:n},"Cancel"),i().createElement("button",{className:"btn btn-primary",onClick:function(){x()<1?alert("Minimum donation amount is $1"):w("payment")},disabled:x()<1},"Continue to Payment - ",u(x())))),"payment"===E&&i().createElement("div",{className:"payment-section"},i().createElement("div",{className:"payment-summary"},i().createElement("h4",null,"Payment Summary"),i().createElement("div",{className:"summary-line"},i().createElement("span",null,"Donation Amount:"),i().createElement("span",null,u(x()))),p&&i().createElement("div",{className:"summary-line"},i().createElement("span",null,"Reward Tier:"),i().createElement("span",null,p.title)),i().createElement("div",{className:"summary-line total"},i().createElement("span",null,"Total:"),i().createElement("span",null,u(x())))),i().createElement(C.Elements,{stripe:U},i().createElement(A,{amount:x(),goalId:t._id,donorInfo:y,selectedTier:p,onSuccess:function(e){w("success"),k(!1),a&&a(e)},onError:function(e){k(!1),alert("Payment failed: "+e.message)},isProcessing:O,setIsProcessing:k})),i().createElement("div",{className:"modal-actions"},i().createElement("button",{className:"btn btn-secondary",onClick:function(){w("amount")},disabled:O},"Back"))),"success"===E&&i().createElement("div",{className:"success-section"},i().createElement("div",{className:"success-message"},i().createElement("div",{className:"success-icon"},"🎉"),i().createElement("h4",null,"Thank You!"),i().createElement("p",null,"Your donation of ",u(x())," has been processed successfully."),p&&i().createElement("div",{className:"reward-confirmation"},i().createElement("h5",null,"Your Reward"),i().createElement("div",{className:"reward-details"},i().createElement("strong",null,p.title),i().createElement("p",null,p.description))),i().createElement("div",{className:"next-steps"},i().createElement("p",null,"You will receive a confirmation email shortly with your receipt and reward details."))),i().createElement("div",{className:"modal-actions"},i().createElement("button",{className:"btn btn-primary",onClick:n},"Close"),i().createElement("button",{className:"btn btn-secondary",onClick:function(){navigator.share&&navigator.share({title:"I just supported: ".concat(t.title),text:"Help support this amazing project!",url:window.location.href})}},"Share"))))))};function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const B=function(e){var t,n,a,o=e.goal,s=e.showDonateButton,c=void 0===s||s,l=e.compact,m=void 0!==l&&l,f=(n=(0,r.useState)(!1),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(n,a)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=f[0],h=f[1],g=Math.min(o.currentAmount/o.targetAmount*100,100),y="completed"===o.status||g>=100,v=o.deadline?Math.max(0,Math.ceil((new Date(o.deadline)-new Date)/864e5)):null,b=function(){h(!0)};return m?i().createElement("div",{className:"funding-goal-card compact"},i().createElement("div",{className:"goal-header"},i().createElement("h4",null,o.title),i().createElement("span",{className:"goal-status ".concat(o.status)},o.status.charAt(0).toUpperCase()+o.status.slice(1))),i().createElement(d,{current:o.currentAmount,target:o.targetAmount,showPercentage:!0}),i().createElement("div",{className:"goal-summary"},u(o.currentAmount)," of ",u(o.targetAmount),!y&&c&&i().createElement("button",{className:"btn btn-primary btn-small",onClick:b},"Support"))):i().createElement(i().Fragment,null,i().createElement("div",{className:"funding-goal-card"},i().createElement("div",{className:"goal-header"},i().createElement("div",null,i().createElement("h4",null,o.title),i().createElement("p",{className:"goal-type"},o.fundingType.replace("-"," "))),i().createElement("div",{className:"goal-meta"},i().createElement("span",{className:"goal-status ".concat(o.status)},o.status.charAt(0).toUpperCase()+o.status.slice(1)),null!==v&&v>0&&i().createElement("span",{className:"days-left"},v," days left"))),o.description&&i().createElement("p",{className:"goal-description"},o.description),i().createElement("div",{className:"goal-progress"},i().createElement(d,{current:o.currentAmount,target:o.targetAmount,showPercentage:!0}),i().createElement("div",{className:"progress-details"},i().createElement("span",{className:"amount-raised"},u(o.currentAmount)," raised"),i().createElement("span",{className:"amount-target"},"of ",u(o.targetAmount)," goal")),o.stats&&i().createElement("div",{className:"goal-stats"},i().createElement("span",null,o.stats.totalDonations||0," supporters"),o.stats.averageDonation&&i().createElement("span",null,"Avg: ",u(o.stats.averageDonation)))),o.rewardTiers&&o.rewardTiers.length>0&&i().createElement("div",{className:"reward-preview"},i().createElement("h5",null,"Rewards Available"),i().createElement("div",{className:"reward-tiers-preview"},o.rewardTiers.slice(0,3).map(function(e,t){return i().createElement("div",{key:t,className:"reward-tier-preview"},i().createElement("span",{className:"tier-amount"},u(e.amount)),i().createElement("span",{className:"tier-title"},e.title))}),o.rewardTiers.length>3&&i().createElement("span",{className:"more-rewards"},"+",o.rewardTiers.length-3," more"))),!y&&c&&i().createElement("div",{className:"goal-actions"},i().createElement("button",{className:"btn btn-primary btn-large",onClick:b},"Support This Goal"),i().createElement("div",{className:"goal-share"},i().createElement("button",{className:"btn btn-secondary",onClick:function(){navigator.share?navigator.share({title:o.title,text:"Help support: ".concat(o.title),url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))}},"Share"))),y&&i().createElement("div",{className:"goal-completed"},i().createElement("div",{className:"completion-message"},i().createElement("h5",null,"🎉 Goal Completed!"),i().createElement("p",null,"Thank you to all ",(null===(t=o.stats)||void 0===t?void 0:t.totalDonations)||0," supporters who made this possible!")))),p&&i().createElement(M,{goal:o,onClose:function(){h(!1)}}))};var q=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Y="undefined"==typeof window||"Deno"in globalThis;function K(){}function z(e){return"number"==typeof e&&e>=0&&e!==1/0}function $(e,t){return"function"==typeof e?e(t):e}function H(e,t){return"function"==typeof e?e(t):e}function W(e){return JSON.stringify(e,(e,t)=>Z(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function J(e,t){if(e===t)return e;const n=X(e)&&X(t);if(n||Z(e)&&Z(t)){const r=n?e:Object.keys(e),a=r.length,o=n?t:Object.keys(t),i=o.length,s=n?[]:{},c=new Set(r);let u=0;for(let r=0;r<i;r++){const a=n?r:o[r];(!n&&c.has(a)||n)&&void 0===e[a]&&void 0===t[a]?(s[a]=void 0,u++):(s[a]=J(e[a],t[a]),s[a]===e[a]&&void 0!==e[a]&&u++)}return a===i&&u===a?e:s}return t}function V(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function X(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Z(e){if(!ee(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!ee(n)&&!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype}function ee(e){return"[object Object]"===Object.prototype.toString.call(e)}function te(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?J(e,t):t}function ne(e,t){return"function"==typeof e?e(...t):!!e}Symbol();var re=new class extends q{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Y&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},ae=e=>setTimeout(e,0),oe=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},a=ae;const o=r=>{t?e.push(r):a(()=>{n(r)})};return{batch:o=>{let i;t++;try{i=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return i},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{a=e}}}(),ie=new class extends q{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Y&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#r}};function se(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function ce(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(n=t.networkMode,"online"!==(n??"online")||ie.isOnline()?"fetching":"paused"),...void 0===e&&{error:null,status:"pending"}};var n}Error;var ue=class extends q{constructor(e,t){super(),this.options=t,this.#a=e,this.#o=null,this.#i=se(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#a;#s=void 0;#c=void 0;#u=void 0;#l;#d;#i;#o;#m;#f;#p;#h;#g;#y;#v=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),le(this.#s,this.options)?this.#b():this.updateResult(),this.#E())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return de(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return de(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#S(),this.#s.removeObserver(this)}setOptions(e){const t=this.options,n=this.#s;if(this.options=this.#a.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof H(this.options.enabled,this.#s))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#s.setOptions(this.options),t._defaulted&&!V(this.options,t)&&this.#a.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});const r=this.hasListeners();r&&me(this.#s,n,this.options,t)&&this.#b(),this.updateResult(),!r||this.#s===n&&H(this.options.enabled,this.#s)===H(t.enabled,this.#s)&&$(this.options.staleTime,this.#s)===$(t.staleTime,this.#s)||this.#O();const a=this.#k();!r||this.#s===n&&H(this.options.enabled,this.#s)===H(t.enabled,this.#s)&&a===this.#y||this.#x(a)}getOptimisticResult(e){const t=this.#a.getQueryCache().build(this.#a,e),n=this.createResult(t,e);return r=n,!V(this.getCurrentResult(),r)&&(this.#u=n,this.#d=this.options,this.#l=this.#s.state),n;var r}getCurrentResult(){return this.#u}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),t?.(n),Reflect.get(e,n))})}trackProp(e){this.#v.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#a.defaultQueryOptions(e),n=this.#a.getQueryCache().build(this.#a,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#b({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#u))}#b(e){this.#C();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(K)),t}#O(){this.#w();const e=$(this.options.staleTime,this.#s);if(Y||this.#u.isStale||!z(e))return;const t=function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.#u.dataUpdatedAt,e)+1;this.#h=setTimeout(()=>{this.#u.isStale||this.updateResult()},t)}#k(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#x(e){this.#S(),this.#y=e,!Y&&!1!==H(this.options.enabled,this.#s)&&z(this.#y)&&0!==this.#y&&(this.#g=setInterval(()=>{(this.options.refetchIntervalInBackground||re.isFocused())&&this.#b()},this.#y))}#E(){this.#O(),this.#x(this.#k())}#w(){this.#h&&(clearTimeout(this.#h),this.#h=void 0)}#S(){this.#g&&(clearInterval(this.#g),this.#g=void 0)}createResult(e,t){const n=this.#s,r=this.options,a=this.#u,o=this.#l,i=this.#d,s=e!==n?e.state:this.#c,{state:c}=e;let u,l={...c},d=!1;if(t._optimisticResults){const a=this.hasListeners(),o=!a&&le(e,t),i=a&&me(e,n,t,r);(o||i)&&(l={...l,...ce(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(l.fetchStatus="idle")}let{error:m,errorUpdatedAt:f,status:p}=l;u=l.data;let h=!1;if(void 0!==t.placeholderData&&void 0===u&&"pending"===p){let e;a?.isPlaceholderData&&t.placeholderData===i?.placeholderData?(e=a.data,h=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#p?.state.data,this.#p):t.placeholderData,void 0!==e&&(p="success",u=te(a?.data,e,t),d=!0)}if(t.select&&void 0!==u&&!h)if(a&&u===o?.data&&t.select===this.#m)u=this.#f;else try{this.#m=t.select,u=t.select(u),u=te(a?.data,u,t),this.#f=u,this.#o=null}catch(e){this.#o=e}this.#o&&(m=this.#o,u=this.#f,f=Date.now(),p="error");const g="fetching"===l.fetchStatus,y="pending"===p,v="error"===p,b=y&&g,E=void 0!==u,w={status:p,fetchStatus:l.fetchStatus,isPending:y,isSuccess:"success"===p,isError:v,isInitialLoading:b,isLoading:b,data:u,dataUpdatedAt:l.dataUpdatedAt,error:m,errorUpdatedAt:f,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>s.dataUpdateCount||l.errorUpdateCount>s.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:v&&!E,isPaused:"paused"===l.fetchStatus,isPlaceholderData:d,isRefetchError:v&&E,isStale:fe(e,t),refetch:this.refetch,promise:this.#i,isEnabled:!1!==H(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===w.status?e.reject(w.error):void 0!==w.data&&e.resolve(w.data)},r=()=>{const e=this.#i=w.promise=se();t(e)},a=this.#i;switch(a.status){case"pending":e.queryHash===n.queryHash&&t(a);break;case"fulfilled":"error"!==w.status&&w.data===a.value||r();break;case"rejected":"error"===w.status&&w.error===a.reason||r()}}return w}updateResult(){const e=this.#u,t=this.createResult(this.#s,this.options);this.#l=this.#s.state,this.#d=this.options,void 0!==this.#l.data&&(this.#p=this.#s),V(t,e)||(this.#u=t,this.#N({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"==typeof t?t():t;if("all"===n||!n&&!this.#v.size)return!0;const r=new Set(n??this.#v);return this.options.throwOnError&&r.add("error"),Object.keys(this.#u).some(t=>{const n=t;return this.#u[n]!==e[n]&&r.has(n)})})()}))}#C(){const e=this.#a.getQueryCache().build(this.#a,this.options);if(e===this.#s)return;const t=this.#s;this.#s=e,this.#c=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#E()}#N(e){oe.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#u)}),this.#a.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function le(e,t){return function(e,t){return!1!==H(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&de(e,t,t.refetchOnMount)}function de(e,t,n){if(!1!==H(t.enabled,e)&&"static"!==$(t.staleTime,e)){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&fe(e,t)}return!1}function me(e,t,n,r){return(e!==t||!1===H(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&fe(e,n)}function fe(e,t){return!1!==H(t.enabled,e)&&e.isStaleByTime($(t.staleTime,e))}a(848);var pe=r.createContext(void 0),he=e=>{const t=r.useContext(pe);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t};var ge=r.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),ye=r.createContext(!1),ve=(ye.Provider,(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()}));function be(e,t){return function(e,t,n){const a=r.useContext(ye),o=r.useContext(ge),i=he(n),s=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=a?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(e??1e3,1e3),n=e.staleTime;e.staleTime="function"==typeof n?(...e)=>t(n(...e)):t(n),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(s),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(s,o),(e=>{r.useEffect(()=>{e.clearReset()},[e])})(o);const c=!i.getQueryCache().get(s.queryHash),[u]=r.useState(()=>new t(i,s)),l=u.getOptimisticResult(s),d=!a&&!1!==e.subscribed;if(r.useSyncExternalStore(r.useCallback(e=>{const t=d?u.subscribe(oe.batchCalls(e)):K;return u.updateResult(),t},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),r.useEffect(()=>{u.setOptions(s)},[s,u]),((e,t)=>e?.suspense&&t.isPending)(s,l))throw ve(s,u,o);if((({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&void 0===e.data||ne(n,[e.error,r])))({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw l.error;if(i.getDefaultOptions().queries?._experimental_afterQuery?.(s,l),s.experimental_prefetchInRender&&!Y&&((e,t)=>e.isLoading&&e.isFetching&&!t)(l,a)){const e=c?ve(s,u,o):i.getQueryCache().get(s.queryHash)?.promise;e?.catch(K).finally(()=>{u.updateResult()})}return s.notifyOnChangeProps?l:u.trackResult(l)}(e,ue,t)}var Ee=class extends q{#a;#u=void 0;#P;#j;constructor(e,t){super(),this.#a=e,this.setOptions(t),this.bindMethods(),this.#T()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#a.defaultMutationOptions(e),V(this.options,t)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#P,observer:this}),t?.mutationKey&&this.options.mutationKey&&W(t.mutationKey)!==W(this.options.mutationKey)?this.reset():"pending"===this.#P?.state.status&&this.#P.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#P?.removeObserver(this)}onMutationUpdate(e){this.#T(),this.#N(e)}getCurrentResult(){return this.#u}reset(){this.#P?.removeObserver(this),this.#P=void 0,this.#T(),this.#N()}mutate(e,t){return this.#j=t,this.#P?.removeObserver(this),this.#P=this.#a.getMutationCache().build(this.#a,this.options),this.#P.addObserver(this),this.#P.execute(e)}#T(){const e=this.#P?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#u={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#N(e){oe.batch(()=>{if(this.#j&&this.hasListeners()){const t=this.#u.variables,n=this.#u.context;"success"===e?.type?(this.#j.onSuccess?.(e.data,t,n),this.#j.onSettled?.(e.data,null,t,n)):"error"===e?.type&&(this.#j.onError?.(e.error,t,n),this.#j.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach(e=>{e(this.#u)})})}};function we(e,t){const n=he(t),[a]=r.useState(()=>new Ee(n,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);const o=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(oe.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=r.useCallback((e,t)=>{a.mutate(e,t).catch(K)},[a]);if(o.error&&ne(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:i,mutateAsync:o.mutate}}function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ae(r.key),r)}}function Oe(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return Ne(u,"_invoke",function(n,r,a){var o,s,c,u=0,l=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,c=e,m.n=n,i}};function f(n,r){for(s=n,c=r,t=0;!d&&u&&!a&&t<l.length;t++){var a,o=l[t],f=m.p,p=o[2];n>3?(a=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(s=0,m.v=r,m.n=o[1]):f<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,m.n=p,s=0))}if(a||n>1)return i;throw d=!0,r}return function(a,l,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,p),s=l,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(m.n=-1),f(s,c)):m.n=c:m.v=c);try{if(u=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(d=m.n<0)?c:n.call(r,m))!==i)break}catch(t){o=e,s=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function s(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Ne(t={},r,function(){return this}),t),d=u.prototype=s.prototype=Object.create(l);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ne(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Ne(d,"constructor",u),Ne(u,"constructor",c),c.displayName="GeneratorFunction",Ne(u,a,"GeneratorFunction"),Ne(d),Ne(d,a,"Generator"),Ne(d,r,function(){return this}),Ne(d,"toString",function(){return"[object Generator]"}),(xe=function(){return{w:o,m}})()}function Ne(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ne=function(e,t,n,r){function o(t,n){Ne(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ne(e,t,n,r)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach(function(t){Te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Te(e,t,n){return(t=Ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e){var t=function(e){if("object"!=Se(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Se(t)?t:t+""}function Ie(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Re(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ie(o,r,a,i,s,"next",e)}function s(e){Ie(o,r,a,i,s,"throw",e)}i(void 0)})}}var Fe="/api",De=function(){var e=Re(xe().m(function e(t){var n,r,a,o=arguments;return xe().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},e.p=1,e.n=2,fetch(t,je({headers:je({"Content-Type":"application/json"},n.headers)},n));case 2:if((r=e.v).ok){e.n=3;break}throw new Error("API Error: ".concat(r.status," ").concat(r.statusText));case 3:return e.n=4,r.json();case 4:return e.a(2,e.v);case 5:throw e.p=5,a=e.v,console.error("API call failed:",a),a;case 6:return e.a(2)}},e,null,[[1,5]])}));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Re(xe().m(function e(){var t,n=arguments;return xe().w(function(e){for(;;)if(0===e.n)return t=new URLSearchParams(n.length>0&&void 0!==n[0]?n[0]:{}),e.a(2,De("".concat(Fe,"/funding/goals?").concat(t)))},e)}));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/funding/goals/").concat(t)))},e)}));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Re(xe().m(function e(t){var n,r=arguments;return xe().w(function(e){for(;;)if(0===e.n)return n=new URLSearchParams(r.length>1&&void 0!==r[1]?r[1]:{}),e.a(2,De("".concat(Fe,"/funding/series/").concat(t,"/goals?").concat(n)))},e)}));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Re(xe().m(function e(t){var n,r=arguments;return xe().w(function(e){for(;;)if(0===e.n)return n=new URLSearchParams(r.length>1&&void 0!==r[1]?r[1]:{}),e.a(2,De("".concat(Fe,"/funding/creator/").concat(t,"/goals?").concat(n)))},e)}));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/funding/goals"),{method:"POST",body:JSON.stringify(t)}))},e)}));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Re(xe().m(function e(t,n){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/funding/goals/").concat(t),{method:"PUT",body:JSON.stringify(n)}))},e)}));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/funding/goals/").concat(t),{method:"DELETE"}))},e)}));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/funding/stats/").concat(t)))},e)}));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/payments/process"),{method:"POST",body:JSON.stringify(t)}))},e)}));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/payments/stripe/create-payment-intent"),{method:"POST",body:JSON.stringify(t)}))},e)}));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/payments/paypal/create-payment"),{method:"POST",body:JSON.stringify(t)}))},e)}));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/content/").concat(t)))},e)}));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Re(xe().m(function e(t){return xe().w(function(e){for(;;)if(0===e.n)return e.a(2,De("".concat(Fe,"/content/series/").concat(t)))},e)}));return function(t){return e.apply(this,arguments)}}(),We=Oe(function e(){ke(this,e)});Te(We,"getGoals",_e),Te(We,"getGoal",Ge),Te(We,"getSeriesGoals",Le),Te(We,"getCreatorGoals",Ue),Te(We,"create",Me),Te(We,"update",Qe),Te(We,"delete",Be),Te(We,"getStats",qe);var Je=Oe(function e(){ke(this,e)});Te(Je,"processDonation",Ye),Te(Je,"createStripeIntent",Ke),Te(Je,"createPayPalPayment",ze);var Ve=Oe(function e(){ke(this,e)});Te(Ve,"getContent",$e),Te(Ve,"getSeries",He);var Xe=We,Ze=Je,et=Ve;const tt={funding:We,payment:Je,content:Ve};function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach(function(t){ot(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ot(e,t,n){return(t=function(e){var t=function(e){if("object"!=nt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return st(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return be({queryKey:["fundingGoals",e],queryFn:function(){return _e(e)},staleTime:3e5,cacheTime:6e5})},ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return be({queryKey:["seriesFundingGoals",e,t],queryFn:function(){return Le(e,t)},enabled:!!e,staleTime:3e5})},lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return be({queryKey:["creatorFundingGoals",e,t],queryFn:function(){return Ue(e,t)},enabled:!!e,staleTime:3e5})},dt=function(e){return be({queryKey:["fundingGoal",e],queryFn:function(){return Ge(e)},enabled:!!e,staleTime:12e4})},mt=function(e){return be({queryKey:["fundingStats",e],queryFn:function(){return qe(e)},enabled:!!e,staleTime:6e5})},ft=function(){var e=he();return we({mutationFn:Me,onSuccess:function(t){e.invalidateQueries({queryKey:["fundingGoals"]}),e.invalidateQueries({queryKey:["creatorFundingGoals"]}),e.invalidateQueries({queryKey:["seriesFundingGoals"]})}})},pt=function(){var e=he();return we({mutationFn:function(e){var t=e.goalId,n=e.updates;return Qe(t,n)},onSuccess:function(t,n){e.setQueryData(["fundingGoal",n.goalId],t),e.invalidateQueries({queryKey:["fundingGoals"]}),e.invalidateQueries({queryKey:["creatorFundingGoals"]}),e.invalidateQueries({queryKey:["seriesFundingGoals"]})}})},ht=function(){var e=he();return we({mutationFn:Be,onSuccess:function(t,n){e.removeQueries({queryKey:["fundingGoal",n]}),e.invalidateQueries({queryKey:["fundingGoals"]}),e.invalidateQueries({queryKey:["creatorFundingGoals"]}),e.invalidateQueries({queryKey:["seriesFundingGoals"]})}})},gt=function(){var e=he();return we({mutationFn:Ye,onSuccess:function(t,n){e.invalidateQueries({queryKey:["fundingGoal",n.goalId]}),e.invalidateQueries({queryKey:["fundingGoals"]}),e.invalidateQueries({queryKey:["fundingStats"]})}})},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=it((0,r.useState)(at({title:"",description:"",targetAmount:0,fundingType:"chapter",deadline:"",seriesId:"",rewardTiers:[]},e)),2),n=t[0],a=t[1],o=it((0,r.useState)({}),2),i=o[0],s=o[1],c=it((0,r.useState)(!1),2),u=c[0],l=c[1];return{formData:n,errors:i,isSubmitting:u,setIsSubmitting:l,updateField:function(e,t){a(function(n){return at(at({},n),{},ot({},e,t))}),i[e]&&s(function(t){return at(at({},t),{},ot({},e,null))})},validateForm:function(){var e={};return n.title.trim()||(e.title="Title is required"),n.description.trim()||(e.description="Description is required"),(!n.targetAmount||n.targetAmount<=0)&&(e.targetAmount="Target amount must be greater than 0"),n.seriesId||(e.seriesId="Please select a series"),s(e),0===Object.keys(e).length},resetForm:function(){a(at({title:"",description:"",targetAmount:0,fundingType:"chapter",deadline:"",seriesId:"",rewardTiers:[]},e)),s({}),l(!1)}}},vt=function(){var e=it((0,r.useState)("amount"),2),t=e[0],n=e[1],a=it((0,r.useState)({amount:0,goalId:null,donorInfo:{},selectedTier:null}),2),o=a[0],i=a[1];return{currentStep:t,setCurrentStep:n,donationData:o,updateDonationData:function(e){i(function(t){return at(at({},t),e)})},resetFlow:function(){n("amount"),i({amount:0,goalId:null,donorInfo:{},selectedTier:null})}}},bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=it((0,r.useState)(!1),2),a=n[0],o=n[1],i=be({queryKey:["fundingGoal",e],queryFn:function(){return Ge(e)},enabled:!!e,refetchInterval:!!a&&t,refetchIntervalInBackground:!1}),s=function(){return o(!1)};return(0,r.useEffect)(function(){return function(){return s()}},[]),at(at({},i),{},{isLive:a,startLiveUpdates:function(){return o(!0)},stopLiveUpdates:s})};function Et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var St=S(window.STRIPE_PUBLISHABLE_KEY);const Ct=function(e){var t,n=e.seriesId,a=e.limit,o=void 0===a?3:a,s=e.showAll,c=void 0!==s&&s,u=Et((0,r.useState)(null),2),l=u[0],d=u[1],m=Et((0,r.useState)(!1),2),f=m[0],p=m[1],h=n?ut(n):ct({limit:o,status:"active"}),g=h.data,y=h.isLoading,v=h.error;if(y)return i().createElement("div",{className:"funding-loading"},"Loading funding goals...");if(v)return i().createElement("div",{className:"funding-error"},"Unable to load funding goals");var b=n?null==g?void 0:g.data:null==g||null===(t=g.data)||void 0===t?void 0:t.goals;return b&&0!==b.length?i().createElement("div",{className:"funding-goals-embed"},i().createElement("div",{className:"funding-header"},i().createElement("h3",null,"Support This ",n?"Series":"Creator"),i().createElement("p",null,"Help fund new chapters and episodes")),i().createElement("div",{className:"funding-goals-grid"},b.slice(0,c?b.length:o).map(function(e){return i().createElement(B,{key:e._id,goal:e,onSupportClick:function(){return function(e){d(e),p(!0)}(e)},compact:!0})})),b.length>o&&!c&&i().createElement("div",{className:"funding-view-all"},i().createElement("a",{href:"/funding",className:"btn btn-secondary"},"View All Funding Goals")),f&&l&&i().createElement(C.Elements,{stripe:St},i().createElement(M,{isOpen:f,onClose:function(){return p(!1)},fundingGoal:l,user:window.currentUser}))):null};function Ot(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return kt(u,"_invoke",function(n,r,a){var o,s,c,u=0,l=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,c=e,m.n=n,i}};function f(n,r){for(s=n,c=r,t=0;!d&&u&&!a&&t<l.length;t++){var a,o=l[t],f=m.p,p=o[2];n>3?(a=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(s=0,m.v=r,m.n=o[1]):f<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,m.n=p,s=0))}if(a||n>1)return i;throw d=!0,r}return function(a,l,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,p),s=l,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(m.n=-1),f(s,c)):m.n=c:m.v=c);try{if(u=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(d=m.n<0)?c:n.call(r,m))!==i)break}catch(t){o=e,s=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function s(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(kt(t={},r,function(){return this}),t),d=u.prototype=s.prototype=Object.create(l);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,kt(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,kt(d,"constructor",u),kt(u,"constructor",c),c.displayName="GeneratorFunction",kt(u,a,"GeneratorFunction"),kt(d),kt(d,a,"Generator"),kt(d,r,function(){return this}),kt(d,"toString",function(){return"[object Generator]"}),(Ot=function(){return{w:o,m}})()}function kt(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}kt=function(e,t,n,r){function o(t,n){kt(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},kt(e,t,n,r)}function xt(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Pt=function(e){var t,n,a,o=e.creatorId,s=(n=(0,r.useState)("active"),a=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(n,a)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],l=s[1],m=lt(o,{status:c}),f=m.data,p=m.isLoading,h=m.refetch,g=mt(o).data,y=ht(),v=function(){var e,t=(e=Ot().m(function e(t){var n;return Ot().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!window.confirm("Are you sure you want to delete this funding goal?")){e.n=4;break}return e.p=1,e.n=2,y.mutateAsync(t);case 2:h(),alert("Funding goal deleted successfully"),e.n=4;break;case 3:e.p=3,n=e.v,alert("Error deleting funding goal: "+n.message);case 4:return e.a(2)}},e,null,[[1,3]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){xt(o,r,a,i,s,"next",e)}function s(e){xt(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}();if(p)return i().createElement("div",{className:"admin-loading"},"Loading your funding goals...");var b=(null==f||null===(t=f.data)||void 0===t?void 0:t.goals)||[],E=(null==g?void 0:g.data)||{};return i().createElement("div",{className:"admin-funding-embed"},i().createElement("div",{className:"funding-stats"},i().createElement("h3",null,"Your Funding Statistics"),i().createElement("div",{className:"stats-grid"},i().createElement("div",{className:"stat-card"},i().createElement("h4",null,"Total Raised"),i().createElement("p",{className:"stat-value"},u(E.totalFundingRaised||0))),i().createElement("div",{className:"stat-card"},i().createElement("h4",null,"Active Goals"),i().createElement("p",{className:"stat-value"},E.activeFundingGoals||0)),i().createElement("div",{className:"stat-card"},i().createElement("h4",null,"Completed Goals"),i().createElement("p",{className:"stat-value"},E.completedFundingGoals||0)),i().createElement("div",{className:"stat-card"},i().createElement("h4",null,"Total Donations"),i().createElement("p",{className:"stat-value"},E.totalDonationsReceived||0)))),i().createElement("div",{className:"funding-filters"},i().createElement("button",{className:"active"===c?"active":"",onClick:function(){return l("active")}},"Active Goals"),i().createElement("button",{className:"completed"===c?"active":"",onClick:function(){return l("completed")}},"Completed Goals"),i().createElement("button",{className:""===c?"active":"",onClick:function(){return l("")}},"All Goals")),i().createElement("div",{className:"admin-goals-list"},0===b.length?i().createElement("div",{className:"no-goals"},i().createElement("p",null,"No funding goals found."),i().createElement("button",{className:"btn btn-primary",onClick:function(){return window.location.href="#create-funding-goal"}},"Create Your First Goal")):b.map(function(e){var t;return i().createElement("div",{key:e._id,className:"admin-goal-card"},i().createElement("div",{className:"goal-header"},i().createElement("h4",null,e.title),i().createElement("div",{className:"goal-actions"},i().createElement("button",{className:"btn btn-small btn-secondary",onClick:function(){return window.open("/funding/goals/".concat(e._id),"_blank")}},"View"),i().createElement("button",{className:"btn btn-small btn-secondary",onClick:function(){return window.location.href="#edit-goal-".concat(e._id)}},"Edit"),"active"===e.status&&0===e.currentAmount&&i().createElement("button",{className:"btn btn-small btn-danger",onClick:function(){return v(e._id)}},"Delete"))),i().createElement("div",{className:"goal-progress"},i().createElement(d,{current:e.currentAmount,target:e.targetAmount,showPercentage:!0}),i().createElement("div",{className:"progress-text"},u(e.currentAmount)," of ",u(e.targetAmount),(null===(t=e.stats)||void 0===t?void 0:t.totalDonations)>0&&i().createElement("span",{className:"donation-count"},"• ",e.stats.totalDonations," donation",1!==e.stats.totalDonations?"s":""))),i().createElement("div",{className:"goal-meta"},i().createElement("span",{className:"goal-status ".concat(e.status)},e.status.charAt(0).toUpperCase()+e.status.slice(1)),i().createElement("span",{className:"goal-type"},e.fundingType.replace("-"," ")),e.deadline&&i().createElement("span",{className:"goal-deadline"},"Ends: ",new Date(e.deadline).toLocaleDateString())),e.description&&i().createElement("p",{className:"goal-description"},e.description.length>100?"".concat(e.description.substring(0,100),"..."):e.description))})))};function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tt=S(window.STRIPE_PUBLISHABLE_KEY);const At=function(e){var t,n,a=e.goalId,o=e.buttonText,s=void 0===o?"Support This Goal":o,c=e.className,u=void 0===c?"":c,l=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=l[0],m=l[1],f=dt(a),p=f.data;if(f.isLoading||null==p||!p.goal)return null;var h=p.goal;return i().createElement(i().Fragment,null,i().createElement("button",{className:"donation-button ".concat(u),onClick:function(){return m(!0)}},s),d&&i().createElement(C.Elements,{stripe:Tt},i().createElement(M,{isOpen:d,onClose:function(){return m(!1)},fundingGoal:h,user:window.currentUser})))};function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Rt(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof s?r:s,u=Object.create(c.prototype);return Ft(u,"_invoke",function(n,r,a){var o,s,c,u=0,l=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return o=t,s=0,c=e,m.n=n,i}};function f(n,r){for(s=n,c=r,t=0;!d&&u&&!a&&t<l.length;t++){var a,o=l[t],f=m.p,p=o[2];n>3?(a=p===r)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=n<2&&f<o[1])?(s=0,m.v=r,m.n=o[1]):f<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,m.n=p,s=0))}if(a||n>1)return i;throw d=!0,r}return function(a,l,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,p),s=l,c=p;(t=s<2?e:c)||!d;){o||(s?s<3?(s>1&&(m.n=-1),f(s,c)):m.n=c:m.v=c);try{if(u=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(d=m.n<0)?c:n.call(r,m))!==i)break}catch(t){o=e,s=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function s(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(Ft(t={},r,function(){return this}),t),d=u.prototype=s.prototype=Object.create(l);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ft(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,Ft(d,"constructor",u),Ft(u,"constructor",c),c.displayName="GeneratorFunction",Ft(u,a,"GeneratorFunction"),Ft(d),Ft(d,a,"Generator"),Ft(d,r,function(){return this}),Ft(d,"toString",function(){return"[object Generator]"}),(Rt=function(){return{w:o,m}})()}function Ft(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ft=function(e,t,n,r){function o(t,n){Ft(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Ft(e,t,n,r)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach(function(t){Gt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gt(e,t,n){return(t=function(e){var t=function(e){if("object"!=It(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==It(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Mt=function(e){var t,n,a=e.creatorId,o=e.onSuccess,s=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1],l=ft(),d=yt(),m=d.formData,f=d.errors,p=d.updateField,h=d.updateNestedField,g=d.addRewardTier,y=d.updateRewardTier,v=d.removeRewardTier,b=d.validateForm,E=d.resetForm,w=function(){var e,t=(e=Rt().m(function e(t){var n,r,i;return Rt().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.preventDefault(),b()){e.n=1;break}return alert("Please fix the errors in the form"),e.a(2);case 1:return e.p=1,n=_t(_t({},m),{},{creator:a,targetAmount:parseFloat(m.targetAmount),rewardTiers:m.rewardTiers.map(function(e){return _t(_t({},e),{},{amount:parseFloat(e.amount),maxBackers:e.maxBackers?parseInt(e.maxBackers):null})})}),e.n=2,l.mutateAsync(n);case 2:r=e.v,alert("Funding goal created successfully!"),E(),u(!1),o&&o(r.data),e.n=4;break;case 3:e.p=3,i=e.v,alert("Error creating funding goal: "+i.message);case 4:return e.a(2)}},e,null,[[1,3]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Lt(o,r,a,i,s,"next",e)}function s(e){Lt(o,r,a,i,s,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}();return c?i().createElement("div",{className:"create-funding-expanded"},i().createElement("div",{className:"form-header"},i().createElement("h3",null,"Create New Funding Goal"),i().createElement("button",{className:"btn btn-secondary",onClick:function(){return u(!1)}},"Cancel")),i().createElement("form",{onSubmit:w,className:"funding-goal-form"},i().createElement("div",{className:"form-section"},i().createElement("h4",null,"Basic Information"),i().createElement("div",{className:"form-group"},i().createElement("label",{htmlFor:"title"},"Goal Title *"),i().createElement("input",{id:"title",type:"text",value:m.title,onChange:function(e){return p("title",e.target.value)},placeholder:"e.g., Next Chapter of Space Adventures",className:f.title?"error":"",required:!0}),f.title&&i().createElement("span",{className:"error-text"},f.title)),i().createElement("div",{className:"form-group"},i().createElement("label",{htmlFor:"description"},"Description *"),i().createElement("textarea",{id:"description",value:m.description,onChange:function(e){return p("description",e.target.value)},placeholder:"Describe what this funding will help create...",rows:4,className:f.description?"error":"",required:!0}),f.description&&i().createElement("span",{className:"error-text"},f.description)),i().createElement("div",{className:"form-row"},i().createElement("div",{className:"form-group"},i().createElement("label",{htmlFor:"targetAmount"},"Target Amount ($) *"),i().createElement("input",{id:"targetAmount",type:"number",min:"1",step:"0.01",value:m.targetAmount,onChange:function(e){return p("targetAmount",e.target.value)},placeholder:"500.00",className:f.targetAmount?"error":"",required:!0}),f.targetAmount&&i().createElement("span",{className:"error-text"},f.targetAmount)),i().createElement("div",{className:"form-group"},i().createElement("label",{htmlFor:"fundingType"},"Content Type *"),i().createElement("select",{id:"fundingType",value:m.fundingType,onChange:function(e){return p("fundingType",e.target.value)},required:!0},i().createElement("option",{value:"chapter"},"Chapter"),i().createElement("option",{value:"episode"},"Episode"),i().createElement("option",{value:"page"},"Page"),i().createElement("option",{value:"artwork"},"Artwork"),i().createElement("option",{value:"bonus-content"},"Bonus Content"),i().createElement("option",{value:"series-continuation"},"Series Continuation")))),i().createElement("div",{className:"form-group"},i().createElement("label",{htmlFor:"deadline"},"Deadline (Optional)"),i().createElement("input",{id:"deadline",type:"date",value:m.deadline,onChange:function(e){return p("deadline",e.target.value)},min:(new Date).toISOString().split("T")[0],className:f.deadline?"error":""}),f.deadline&&i().createElement("span",{className:"error-text"},f.deadline))),i().createElement("div",{className:"form-section"},i().createElement("div",{className:"section-header"},i().createElement("h4",null,"Reward Tiers"),i().createElement("button",{type:"button",className:"btn btn-secondary btn-small",onClick:g},"+ Add Tier")),m.rewardTiers.map(function(e,t){return i().createElement("div",{key:t,className:"reward-tier-form"},i().createElement("div",{className:"tier-header"},i().createElement("h5",null,"Reward Tier ",t+1),i().createElement("button",{type:"button",className:"btn btn-danger btn-small",onClick:function(){return v(t)}},"Remove")),i().createElement("div",{className:"form-row"},i().createElement("div",{className:"form-group"},i().createElement("label",null,"Amount ($) *"),i().createElement("input",{type:"number",min:"1",step:"0.01",value:e.amount,onChange:function(e){return y(t,"amount",e.target.value)},placeholder:"25.00",className:f["rewardTier_".concat(t,"_amount")]?"error":"",required:!0}),f["rewardTier_".concat(t,"_amount")]&&i().createElement("span",{className:"error-text"},f["rewardTier_".concat(t,"_amount")])),i().createElement("div",{className:"form-group"},i().createElement("label",null,"Max Backers"),i().createElement("input",{type:"number",min:"1",value:e.maxBackers||"",onChange:function(e){return y(t,"maxBackers",e.target.value)},placeholder:"Unlimited"}))),i().createElement("div",{className:"form-group"},i().createElement("label",null,"Reward Title *"),i().createElement("input",{type:"text",value:e.title,onChange:function(e){return y(t,"title",e.target.value)},placeholder:"e.g., Early Access",className:f["rewardTier_".concat(t,"_title")]?"error":"",required:!0}),f["rewardTier_".concat(t,"_title")]&&i().createElement("span",{className:"error-text"},f["rewardTier_".concat(t,"_title")])),i().createElement("div",{className:"form-group"},i().createElement("label",null,"Reward Description *"),i().createElement("textarea",{value:e.description,onChange:function(e){return y(t,"description",e.target.value)},placeholder:"Describe what backers get for this tier...",rows:2,className:f["rewardTier_".concat(t,"_description")]?"error":"",required:!0}),f["rewardTier_".concat(t,"_description")]&&i().createElement("span",{className:"error-text"},f["rewardTier_".concat(t,"_description")])))})),i().createElement("div",{className:"form-section"},i().createElement("h4",null,"Settings"),i().createElement("div",{className:"form-group checkbox-group"},i().createElement("label",null,i().createElement("input",{type:"checkbox",checked:m.settings.allowAnonymousDonations,onChange:function(e){return h("settings","allowAnonymousDonations",e.target.checked)}}),"Allow anonymous donations")),i().createElement("div",{className:"form-group checkbox-group"},i().createElement("label",null,i().createElement("input",{type:"checkbox",checked:m.settings.showDonorList,onChange:function(e){return h("settings","showDonorList",e.target.checked)}}),"Show donor list publicly")),i().createElement("div",{className:"form-group checkbox-group"},i().createElement("label",null,i().createElement("input",{type:"checkbox",checked:m.settings.sendUpdates,onChange:function(e){return h("settings","sendUpdates",e.target.checked)}}),"Send progress updates to donors"))),i().createElement("div",{className:"form-actions"},i().createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return u(!1)}},"Cancel"),i().createElement("button",{type:"submit",className:"btn btn-primary",disabled:l.isLoading},l.isLoading?"Creating...":"Create Funding Goal")))):i().createElement("div",{className:"create-funding-collapsed"},i().createElement("button",{className:"btn btn-primary btn-large",onClick:function(){return u(!0)}},"+ Create New Funding Goal"))};var Qt=a(72),Bt=a.n(Qt),qt=a(825),Yt=a.n(qt),Kt=a(659),zt=a.n(Kt),$t=a(56),Ht=a.n($t),Wt=a(540),Jt=a.n(Wt),Vt=a(113),Xt=a.n(Vt),Zt=a(602),en={};en.styleTagTransform=Xt(),en.setAttributes=Ht(),en.insert=zt().bind(null,"head"),en.domAPI=Yt(),en.insertStyleElement=Jt(),Bt()(Zt.A,en),Zt.A&&Zt.A.locals&&Zt.A.locals,"undefined"!=typeof window&&(window.FundingComponents={FundingGoalCard:B,DonationModal:M,PaymentForm:A,ProgressBar:d,RewardTiers:I,FundingGoalsEmbed:Ct,AdminFundingEmbed:Pt,DonationButtonEmbed:At,CreateFundingGoalEmbed:Mt,hooks:n,api:t,utils:e,renderFundingGoals:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.getElementById(e);n&&c().render(i().createElement(Ct,t),n)},renderDonationButton:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.getElementById(e);n&&c().render(i().createElement(At,t),n)},renderAdminFunding:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.getElementById(e);n&&c().render(i().createElement(Pt,t),n)},renderCreateFundingGoal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.getElementById(e);n&&c().render(i().createElement(Mt,t),n)},unmount:function(e){var t=document.getElementById(e);t&&c().unmountComponentAtNode(t)}},document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-funding-goals]").forEach(function(e){var t={seriesId:e.dataset.seriesId,limit:parseInt(e.dataset.limit)||3,showAll:"true"===e.dataset.showAll};c().render(i().createElement(Ct,t),e)}),document.querySelectorAll("[data-donation-button]").forEach(function(e){var t={goalId:e.dataset.goalId,buttonText:e.dataset.buttonText||"Support This Goal",className:e.dataset.className||""};c().render(i().createElement(At,t),e)}),document.querySelectorAll("[data-admin-funding]").forEach(function(e){var t={creatorId:e.dataset.creatorId};c().render(i().createElement(Pt,t),e)})}))})(),o})());